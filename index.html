<!DOCTYPE html>
<html>

<head>
    <title>Rock Paper Scissor</title>
    <meta charset="UTF-8">
</head>

<body>

    <div id='btn'>
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
    </div>
    <div id='detail'></div>
    <div id='score'></div>
    <div id='winner'></div>

    <script>


        let computerScore = 0;
        let playerScore = 0;

        //function for generating random word for computer
        let computerSelection = function computerPlay() {
            switch (Math.floor(Math.random() * 3)) {
                case 0:
                    return "rock";
                    break;
                case 1:
                    return "paper";
                    break;
                case 2:
                    return "scissors";
                    break;
            }
        }
        const buttons = document.querySelectorAll('button');
        buttons.forEach((button) => {
            button.addEventListener('click', () => {
                playRound(button.id, computerSelection())
            });
        let detail = document.getElementById('detail');
        });

        function playRound(playerSelection, computerSelection) {
            let playerMove = playerSelection; //converting user's input into lowercase to make comparison easier.
            if (playerMove == "rock" && computerSelection == "paper") {
                computerScore = computerScore + 1;
                detail.textContent = "Computer picked " + computerSelection + "." + " You Lose! " + computerSelection + " beats " + playerSelection + "!"; //properComputerSelection and properPlayerSelection have the value of 1st letter uppercase and remaining lowercase words of computer and player respectively.
                score();
                checkWinner();
                
            }
            else if (playerMove == "paper" && computerSelection == "scissors") {
                computerScore = computerScore + 1;
                detail.textContent = "Computer picked " + computerSelection + "." + " You Lose! " + computerSelection + " beats " + playerSelection + "!";
                score();
                checkWinner();
            }
            else if (playerMove == "scissors" && computerSelection == "rock") {
                computerScore = computerScore + 1;
                detail.textContent = "Computer picked " + computerSelection + "." + " You Lose! " + computerSelection + " beats " + playerSelection + "!";
                score();
                checkWinner();
            }
            else if (playerMove === computerSelection) {
                detail.textContent = "Computer picked " + computerSelection + "." + " It's a draw";
                score();
                checkWinner();
            }
            else {
                playerScore = playerScore + 1;
                detail.textContent = "Computer picked " + computerSelection + "." + " You win! " + playerSelection + " beats " + computerSelection + "!";
                score();
                checkWinner();
            }
        }

        function checkWinner() {
            const winner = document.getElementById('winner')
            if (playerScore == 5) {
                winner.textContent = "Congratulations! You are the winner";
            }
            else if (computerScore == 5) {
                winner.textContent = "Computer Won! Better luck next time.";

            }
            else {
                return;
            }
        }

        function score() {
            const gameScore = document.getElementById('score');
            gameScore.textContent = "Your Score: " + playerScore + " Computer Score: " + computerScore;
        }

    </script>
</body>

</html>